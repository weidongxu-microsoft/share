// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.compute;

import com.azure.core.management.SubResource;
import com.azure.resourcemanager.compute.models.BootDiagnostics;
import com.azure.resourcemanager.compute.models.CachingTypes;
import com.azure.resourcemanager.compute.models.CapacityReservationProfile;
import com.azure.resourcemanager.compute.models.DataDisk;
import com.azure.resourcemanager.compute.models.DeleteOptions;
import com.azure.resourcemanager.compute.models.DiagnosticsProfile;
import com.azure.resourcemanager.compute.models.DiffDiskOptions;
import com.azure.resourcemanager.compute.models.DiffDiskPlacement;
import com.azure.resourcemanager.compute.models.DiffDiskSettings;
import com.azure.resourcemanager.compute.models.DiskCreateOptionTypes;
import com.azure.resourcemanager.compute.models.DiskEncryptionSetParameters;
import com.azure.resourcemanager.compute.models.HardwareProfile;
import com.azure.resourcemanager.compute.models.ImageReference;
import com.azure.resourcemanager.compute.models.LinuxConfiguration;
import com.azure.resourcemanager.compute.models.LinuxPatchAssessmentMode;
import com.azure.resourcemanager.compute.models.LinuxPatchSettings;
import com.azure.resourcemanager.compute.models.LinuxVMGuestPatchMode;
import com.azure.resourcemanager.compute.models.ManagedDiskParameters;
import com.azure.resourcemanager.compute.models.NetworkApiVersion;
import com.azure.resourcemanager.compute.models.NetworkInterfaceReference;
import com.azure.resourcemanager.compute.models.NetworkProfile;
import com.azure.resourcemanager.compute.models.OSDisk;
import com.azure.resourcemanager.compute.models.OSProfile;
import com.azure.resourcemanager.compute.models.OperatingSystemTypes;
import com.azure.resourcemanager.compute.models.PatchSettings;
import com.azure.resourcemanager.compute.models.Plan;
import com.azure.resourcemanager.compute.models.PublicIpAddressSku;
import com.azure.resourcemanager.compute.models.PublicIpAddressSkuName;
import com.azure.resourcemanager.compute.models.PublicIpAddressSkuTier;
import com.azure.resourcemanager.compute.models.PublicIpAllocationMethod;
import com.azure.resourcemanager.compute.models.ScheduledEventsProfile;
import com.azure.resourcemanager.compute.models.SecurityProfile;
import com.azure.resourcemanager.compute.models.SecurityTypes;
import com.azure.resourcemanager.compute.models.SshConfiguration;
import com.azure.resourcemanager.compute.models.SshPublicKey;
import com.azure.resourcemanager.compute.models.StorageAccountTypes;
import com.azure.resourcemanager.compute.models.StorageProfile;
import com.azure.resourcemanager.compute.models.TerminateNotificationProfile;
import com.azure.resourcemanager.compute.models.UefiSettings;
import com.azure.resourcemanager.compute.models.VirtualHardDisk;
import com.azure.resourcemanager.compute.models.VirtualMachineNetworkInterfaceConfiguration;
import com.azure.resourcemanager.compute.models.VirtualMachineNetworkInterfaceIpConfiguration;
import com.azure.resourcemanager.compute.models.VirtualMachinePublicIpAddressConfiguration;
import com.azure.resourcemanager.compute.models.VirtualMachineSizeTypes;
import com.azure.resourcemanager.compute.models.WindowsConfiguration;
import com.azure.resourcemanager.compute.models.WindowsPatchAssessmentMode;
import com.azure.resourcemanager.compute.models.WindowsVMGuestPatchMode;
import java.util.Arrays;

/** Samples for VirtualMachines CreateOrUpdate. */
public final class VirtualMachinesCreateOrUpdateSamples {
    /**
     * Sample code: Create a platform-image vm with unmanaged os and data disks.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAPlatformImageVmWithUnmanagedOsAndDataDisks(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("{vm-name}")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D2_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("WindowsServer")
                            .withSku("2016-Datacenter")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withVhd(
                                new VirtualHardDisk()
                                    .withUri(
                                        "http://{existing-storage-account-name}.blob.core.windows.net/{existing-container-name}/myDisk.vhd"))
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE))
                    .withDataDisks(
                        Arrays
                            .asList(
                                new DataDisk()
                                    .withLun(0)
                                    .withVhd(
                                        new VirtualHardDisk()
                                            .withUri(
                                                "http://{existing-storage-account-name}.blob.core.windows.net/{existing-container-name}/myDisk0.vhd"))
                                    .withCreateOption(DiskCreateOptionTypes.EMPTY)
                                    .withDiskSizeGB(1023),
                                new DataDisk()
                                    .withLun(1)
                                    .withVhd(
                                        new VirtualHardDisk()
                                            .withUri(
                                                "http://{existing-storage-account-name}.blob.core.windows.net/{existing-container-name}/myDisk1.vhd"))
                                    .withCreateOption(DiskCreateOptionTypes.EMPTY)
                                    .withDiskSizeGB(1023))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a Linux vm with a patch settings patchMode and assessmentMode set to AutomaticByPlatform.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createALinuxVmWithAPatchSettingsPatchModeAndAssessmentModeSetToAutomaticByPlatform(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D2S_V3))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("Canonical")
                            .withOffer("UbuntuServer")
                            .withSku("16.04-LTS")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.PREMIUM_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}")
                    .withLinuxConfiguration(
                        new LinuxConfiguration()
                            .withProvisionVMAgent(true)
                            .withPatchSettings(
                                new LinuxPatchSettings()
                                    .withPatchMode(LinuxVMGuestPatchMode.AUTOMATIC_BY_PLATFORM)
                                    .withAssessmentMode(LinuxPatchAssessmentMode.AUTOMATIC_BY_PLATFORM))))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a vm with ephemeral os disk provisioning in Cache disk using placement property.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmWithEphemeralOsDiskProvisioningInCacheDiskUsingPlacementProperty(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withPlan(
                new Plan()
                    .withName("windows2016")
                    .withPublisher("microsoft-ads")
                    .withProduct("windows-data-science-vm"))
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_DS1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("microsoft-ads")
                            .withOffer("windows-data-science-vm")
                            .withSku("windows2016")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_ONLY)
                            .withDiffDiskSettings(
                                new DiffDiskSettings()
                                    .withOption(DiffDiskOptions.LOCAL)
                                    .withPlacement(DiffDiskPlacement.CACHE_DISK))
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a vm with a marketplace image plan.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmWithAMarketplaceImagePlan(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withPlan(
                new Plan()
                    .withName("windows2016")
                    .withPublisher("microsoft-ads")
                    .withProduct("windows-data-science-vm"))
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("microsoft-ads")
                            .withOffer("windows-data-science-vm")
                            .withSku("windows2016")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a Windows vm with a patch setting patchMode of AutomaticByOS.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAWindowsVmWithAPatchSettingPatchModeOfAutomaticByOS(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("WindowsServer")
                            .withSku("2016-Datacenter")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.PREMIUM_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}")
                    .withWindowsConfiguration(
                        new WindowsConfiguration()
                            .withProvisionVMAgent(true)
                            .withEnableAutomaticUpdates(true)
                            .withPatchSettings(
                                new PatchSettings().withPatchMode(WindowsVMGuestPatchMode.AUTOMATIC_BY_OS))))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/nsgExistingNic")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a Windows vm with patch settings patchMode and assessmentMode set to AutomaticByPlatform.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAWindowsVmWithPatchSettingsPatchModeAndAssessmentModeSetToAutomaticByPlatform(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("WindowsServer")
                            .withSku("2016-Datacenter")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.PREMIUM_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}")
                    .withWindowsConfiguration(
                        new WindowsConfiguration()
                            .withProvisionVMAgent(true)
                            .withEnableAutomaticUpdates(true)
                            .withPatchSettings(
                                new PatchSettings()
                                    .withPatchMode(WindowsVMGuestPatchMode.AUTOMATIC_BY_PLATFORM)
                                    .withAssessmentMode(WindowsPatchAssessmentMode.AUTOMATIC_BY_PLATFORM))))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a Windows vm with a patch setting assessmentMode of ImageDefault.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAWindowsVmWithAPatchSettingAssessmentModeOfImageDefault(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("WindowsServer")
                            .withSku("2016-Datacenter")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.PREMIUM_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}")
                    .withWindowsConfiguration(
                        new WindowsConfiguration()
                            .withProvisionVMAgent(true)
                            .withEnableAutomaticUpdates(true)
                            .withPatchSettings(
                                new PatchSettings().withAssessmentMode(WindowsPatchAssessmentMode.IMAGE_DEFAULT))))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a vm with premium storage.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmWithPremiumStorage(com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("WindowsServer")
                            .withSku("2016-Datacenter")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.PREMIUM_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create or update a VM with capacity reservation.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createOrUpdateAVMWithCapacityReservation(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withPlan(
                new Plan()
                    .withName("windows2016")
                    .withPublisher("microsoft-ads")
                    .withProduct("windows-data-science-vm"))
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_DS1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("microsoft-ads")
                            .withOffer("windows-data-science-vm")
                            .withSku("windows2016")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_ONLY)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .withCapacityReservation(
                new CapacityReservationProfile()
                    .withCapacityReservationGroup(
                        new SubResource()
                            .withId(
                                "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/CapacityReservationGroups/{crgName}")))
            .create();
    }

    /**
     * Sample code: Create a Linux vm with a patch setting assessmentMode of ImageDefault.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createALinuxVmWithAPatchSettingAssessmentModeOfImageDefault(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D2S_V3))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("Canonical")
                            .withOffer("UbuntuServer")
                            .withSku("16.04-LTS")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.PREMIUM_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}")
                    .withLinuxConfiguration(
                        new LinuxConfiguration()
                            .withProvisionVMAgent(true)
                            .withPatchSettings(
                                new LinuxPatchSettings().withAssessmentMode(LinuxPatchAssessmentMode.IMAGE_DEFAULT))))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a Windows vm with a patch setting patchMode of AutomaticByPlatform and enableHotpatching set
     * to true.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAWindowsVmWithAPatchSettingPatchModeOfAutomaticByPlatformAndEnableHotpatchingSetToTrue(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("WindowsServer")
                            .withSku("2016-Datacenter")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.PREMIUM_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}")
                    .withWindowsConfiguration(
                        new WindowsConfiguration()
                            .withProvisionVMAgent(true)
                            .withEnableAutomaticUpdates(true)
                            .withPatchSettings(
                                new PatchSettings()
                                    .withPatchMode(WindowsVMGuestPatchMode.AUTOMATIC_BY_PLATFORM)
                                    .withEnableHotpatching(true))))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a vm with an extensions time budget.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmWithAnExtensionsTimeBudget(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("WindowsServer")
                            .withSku("2016-Datacenter")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .withDiagnosticsProfile(
                new DiagnosticsProfile()
                    .withBootDiagnostics(
                        new BootDiagnostics()
                            .withEnabled(true)
                            .withStorageUri("http://{existing-storage-account-name}.blob.core.windows.net")))
            .withExtensionsTimeBudget("PT30M")
            .create();
    }

    /**
     * Sample code: Create a custom-image vm from an unmanaged generalized os image.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createACustomImageVmFromAnUnmanagedGeneralizedOsImage(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("{vm-name}")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withOsDisk(
                        new OSDisk()
                            .withOsType(OperatingSystemTypes.WINDOWS)
                            .withName("myVMosdisk")
                            .withVhd(
                                new VirtualHardDisk()
                                    .withUri(
                                        "http://{existing-storage-account-name}.blob.core.windows.net/{existing-container-name}/myDisk.vhd"))
                            .withImage(
                                new VirtualHardDisk()
                                    .withUri(
                                        "http://{existing-storage-account-name}.blob.core.windows.net/{existing-container-name}/{existing-generalized-os-image-blob-name}.vhd"))
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a vm with Host Encryption using encryptionAtHost property.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmWithHostEncryptionUsingEncryptionAtHostProperty(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withPlan(
                new Plan()
                    .withName("windows2016")
                    .withPublisher("microsoft-ads")
                    .withProduct("windows-data-science-vm"))
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_DS1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("microsoft-ads")
                            .withOffer("windows-data-science-vm")
                            .withSku("windows2016")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_ONLY)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .withSecurityProfile(new SecurityProfile().withEncryptionAtHost(true))
            .create();
    }

    /**
     * Sample code: Create a vm in an availability set.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmInAnAvailabilitySet(com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("WindowsServer")
                            .withSku("2016-Datacenter")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .withAvailabilitySet(
                new SubResource()
                    .withId(
                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/availabilitySets/{existing-availability-set-name}"))
            .create();
    }

    /**
     * Sample code: Create a vm with empty data disks.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmWithEmptyDataDisks(com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D2_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("WindowsServer")
                            .withSku("2016-Datacenter")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS)))
                    .withDataDisks(
                        Arrays
                            .asList(
                                new DataDisk()
                                    .withLun(0)
                                    .withCreateOption(DiskCreateOptionTypes.EMPTY)
                                    .withDiskSizeGB(1023),
                                new DataDisk()
                                    .withLun(1)
                                    .withCreateOption(DiskCreateOptionTypes.EMPTY)
                                    .withDiskSizeGB(1023))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a VM with network interface configuration.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVMWithNetworkInterfaceConfiguration(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("WindowsServer")
                            .withSku("2016-Datacenter")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkApiVersion(NetworkApiVersion.TWO_ZERO_TWO_ZERO_ONE_ONE_ZERO_ONE)
                    .withNetworkInterfaceConfigurations(
                        Arrays
                            .asList(
                                new VirtualMachineNetworkInterfaceConfiguration()
                                    .withName("{nic-config-name}")
                                    .withPrimary(true)
                                    .withDeleteOption(DeleteOptions.DELETE)
                                    .withIpConfigurations(
                                        Arrays
                                            .asList(
                                                new VirtualMachineNetworkInterfaceIpConfiguration()
                                                    .withName("{ip-config-name}")
                                                    .withPrimary(true)
                                                    .withPublicIpAddressConfiguration(
                                                        new VirtualMachinePublicIpAddressConfiguration()
                                                            .withName("{publicIP-config-name}")
                                                            .withSku(
                                                                new PublicIpAddressSku()
                                                                    .withName(PublicIpAddressSkuName.BASIC)
                                                                    .withTier(PublicIpAddressSkuTier.GLOBAL))
                                                            .withDeleteOption(DeleteOptions.DETACH)
                                                            .withPublicIpAllocationMethod(
                                                                PublicIpAllocationMethod.STATIC)))))))
            .create();
    }

    /**
     * Sample code: Create a vm from a custom image.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmFromACustomImage(com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withId(
                                "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/images/{existing-custom-image-name}"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a VM with Uefi Settings of secureBoot and vTPM.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVMWithUefiSettingsOfSecureBootAndVTPM(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D2S_V3))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("windowsserver-gen2preview-preview")
                            .withSku("windows10-tvm")
                            .withVersion("18363.592.2001092016"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_ONLY)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters()
                                    .withStorageAccountType(StorageAccountTypes.STANDARD_SSD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .withSecurityProfile(
                new SecurityProfile()
                    .withUefiSettings(new UefiSettings().withSecureBootEnabled(true).withVTpmEnabled(true))
                    .withSecurityType(SecurityTypes.TRUSTED_LAUNCH))
            .create();
    }

    /**
     * Sample code: Create a vm from a specialized shared image.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmFromASpecializedSharedImage(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withId(
                                "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/galleries/mySharedGallery/images/mySharedImage"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a vm with password authentication.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmWithPasswordAuthentication(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("WindowsServer")
                            .withSku("2016-Datacenter")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a vm in a Virtual Machine Scale Set with customer assigned platformFaultDomain.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmInAVirtualMachineScaleSetWithCustomerAssignedPlatformFaultDomain(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("WindowsServer")
                            .withSku("2016-Datacenter")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .withVirtualMachineScaleSet(
                new SubResource()
                    .withId(
                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/virtualMachineScaleSets/{existing-flex-vmss-name-with-platformFaultDomainCount-greater-than-1}"))
            .withPlatformFaultDomain(1)
            .create();
    }

    /**
     * Sample code: Create a vm with Scheduled Events Profile.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmWithScheduledEventsProfile(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("WindowsServer")
                            .withSku("2016-Datacenter")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .withDiagnosticsProfile(
                new DiagnosticsProfile()
                    .withBootDiagnostics(
                        new BootDiagnostics()
                            .withEnabled(true)
                            .withStorageUri("http://{existing-storage-account-name}.blob.core.windows.net")))
            .withScheduledEventsProfile(
                new ScheduledEventsProfile()
                    .withTerminateNotificationProfile(
                        new TerminateNotificationProfile().withNotBeforeTimeout("PT10M").withEnable(true)))
            .create();
    }

    /**
     * Sample code: Create a vm with boot diagnostics.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmWithBootDiagnostics(com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("WindowsServer")
                            .withSku("2016-Datacenter")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .withDiagnosticsProfile(
                new DiagnosticsProfile()
                    .withBootDiagnostics(
                        new BootDiagnostics()
                            .withEnabled(true)
                            .withStorageUri("http://{existing-storage-account-name}.blob.core.windows.net")))
            .create();
    }

    /**
     * Sample code: Create a vm with ssh authentication.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmWithSshAuthentication(com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("{image_publisher}")
                            .withOffer("{image_offer}")
                            .withSku("{image_sku}")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withLinuxConfiguration(
                        new LinuxConfiguration()
                            .withDisablePasswordAuthentication(true)
                            .withSsh(
                                new SshConfiguration()
                                    .withPublicKeys(
                                        Arrays
                                            .asList(
                                                new SshPublicKey()
                                                    .withPath("/home/{your-username}/.ssh/authorized_keys")
                                                    .withKeyData(
                                                        "ssh-rsa"
                                                            + " AAAAB3NzaC1yc2EAAAADAQABAAABAQCeClRAk2ipUs/l5voIsDC5q9RI+YSRd1Bvd/O+axgY4WiBzG+4FwJWZm/mLLe5DoOdHQwmU2FrKXZSW4w2sYE70KeWnrFViCOX5MTVvJgPE8ClugNl8RWth/tU849DvM9sT7vFgfVSHcAS2yDRyDlueii+8nF2ym8XWAPltFVCyLHRsyBp5YPqK8JFYIa1eybKsY3hEAxRCA+/7bq8et+Gj3coOsuRmrehav7rE6N12Pb80I6ofa6SM5XNYq4Xk0iYNx7R3kdz0Jj9XgZYWjAHjJmT0gTRoOnt6upOuxK7xI/ykWrllgpXrCPu3Ymz+c+ujaqcxDopnAl2lmf69/J1"))))))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a vm with ephemeral os disk provisioning in Resource disk using placement property.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmWithEphemeralOsDiskProvisioningInResourceDiskUsingPlacementProperty(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withPlan(
                new Plan()
                    .withName("windows2016")
                    .withPublisher("microsoft-ads")
                    .withProduct("windows-data-science-vm"))
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_DS1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("microsoft-ads")
                            .withOffer("windows-data-science-vm")
                            .withSku("windows2016")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_ONLY)
                            .withDiffDiskSettings(
                                new DiffDiskSettings()
                                    .withOption(DiffDiskOptions.LOCAL)
                                    .withPlacement(DiffDiskPlacement.RESOURCE_DISK))
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a vm with ephemeral os disk.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmWithEphemeralOsDisk(com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withPlan(
                new Plan()
                    .withName("windows2016")
                    .withPublisher("microsoft-ads")
                    .withProduct("windows-data-science-vm"))
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_DS1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("microsoft-ads")
                            .withOffer("windows-data-science-vm")
                            .withSku("windows2016")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_ONLY)
                            .withDiffDiskSettings(new DiffDiskSettings().withOption(DiffDiskOptions.LOCAL))
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a VM with UserData.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVMWithUserData(com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("{vm-name}")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("WindowsServer")
                            .withSku("2016-Datacenter")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("vmOSdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("{vm-name}")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .withDiagnosticsProfile(
                new DiagnosticsProfile()
                    .withBootDiagnostics(
                        new BootDiagnostics()
                            .withEnabled(true)
                            .withStorageUri("http://{existing-storage-account-name}.blob.core.windows.net")))
            .withUserData("RXhhbXBsZSBVc2VyRGF0YQ==")
            .create();
    }

    /**
     * Sample code: Create a vm from a generalized shared image.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmFromAGeneralizedSharedImage(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withId(
                                "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/galleries/mySharedGallery/images/mySharedImage"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a Windows vm with a patch setting patchMode of Manual.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAWindowsVmWithAPatchSettingPatchModeOfManual(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("WindowsServer")
                            .withSku("2016-Datacenter")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.PREMIUM_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}")
                    .withWindowsConfiguration(
                        new WindowsConfiguration()
                            .withProvisionVMAgent(true)
                            .withEnableAutomaticUpdates(true)
                            .withPatchSettings(new PatchSettings().withPatchMode(WindowsVMGuestPatchMode.MANUAL))))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a Linux vm with a patch setting patchMode of ImageDefault.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createALinuxVmWithAPatchSettingPatchModeOfImageDefault(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D2S_V3))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("Canonical")
                            .withOffer("UbuntuServer")
                            .withSku("16.04-LTS")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.PREMIUM_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}")
                    .withLinuxConfiguration(
                        new LinuxConfiguration()
                            .withProvisionVMAgent(true)
                            .withPatchSettings(
                                new LinuxPatchSettings().withPatchMode(LinuxVMGuestPatchMode.IMAGE_DEFAULT))))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }

    /**
     * Sample code: Create a vm with managed boot diagnostics.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmWithManagedBootDiagnostics(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withPublisher("MicrosoftWindowsServer")
                            .withOffer("WindowsServer")
                            .withSku("2016-Datacenter")
                            .withVersion("latest"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters().withStorageAccountType(StorageAccountTypes.STANDARD_LRS))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .withDiagnosticsProfile(
                new DiagnosticsProfile().withBootDiagnostics(new BootDiagnostics().withEnabled(true)))
            .create();
    }

    /**
     * Sample code: Create a vm with DiskEncryptionSet resource id in the os disk and data disk.
     *
     * @param computeManager Entry point to ComputeManager. Compute Client.
     */
    public static void createAVmWithDiskEncryptionSetResourceIdInTheOsDiskAndDataDisk(
        com.azure.resourcemanager.compute.ComputeManager computeManager) {
        computeManager
            .virtualMachines()
            .define("myVM")
            .withRegion("westus")
            .withExistingResourceGroup("myResourceGroup")
            .withHardwareProfile(new HardwareProfile().withVmSize(VirtualMachineSizeTypes.STANDARD_D1_V2))
            .withStorageProfile(
                new StorageProfile()
                    .withImageReference(
                        new ImageReference()
                            .withId(
                                "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/images/{existing-custom-image-name}"))
                    .withOsDisk(
                        new OSDisk()
                            .withName("myVMosdisk")
                            .withCaching(CachingTypes.READ_WRITE)
                            .withCreateOption(DiskCreateOptionTypes.FROM_IMAGE)
                            .withManagedDisk(
                                new ManagedDiskParameters()
                                    .withStorageAccountType(StorageAccountTypes.STANDARD_LRS)
                                    .withDiskEncryptionSet(
                                        new DiskEncryptionSetParameters()
                                            .withId(
                                                "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{existing-diskEncryptionSet-name}"))))
                    .withDataDisks(
                        Arrays
                            .asList(
                                new DataDisk()
                                    .withLun(0)
                                    .withCaching(CachingTypes.READ_WRITE)
                                    .withCreateOption(DiskCreateOptionTypes.EMPTY)
                                    .withDiskSizeGB(1023)
                                    .withManagedDisk(
                                        new ManagedDiskParameters()
                                            .withStorageAccountType(StorageAccountTypes.STANDARD_LRS)
                                            .withDiskEncryptionSet(
                                                new DiskEncryptionSetParameters()
                                                    .withId(
                                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{existing-diskEncryptionSet-name}"))),
                                new DataDisk()
                                    .withLun(1)
                                    .withCaching(CachingTypes.READ_WRITE)
                                    .withCreateOption(DiskCreateOptionTypes.ATTACH)
                                    .withDiskSizeGB(1023)
                                    .withManagedDisk(
                                        new ManagedDiskParameters()
                                            .withId(
                                                "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/{existing-managed-disk-name}")
                                            .withStorageAccountType(StorageAccountTypes.STANDARD_LRS)
                                            .withDiskEncryptionSet(
                                                new DiskEncryptionSetParameters()
                                                    .withId(
                                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{existing-diskEncryptionSet-name}"))))))
            .withOsProfile(
                new OSProfile()
                    .withComputerName("myVM")
                    .withAdminUsername("{your-username}")
                    .withAdminPassword("{your-password}"))
            .withNetworkProfile(
                new NetworkProfile()
                    .withNetworkInterfaces(
                        Arrays
                            .asList(
                                new NetworkInterfaceReference()
                                    .withId(
                                        "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Network/networkInterfaces/{existing-nic-name}")
                                    .withPrimary(true))))
            .create();
    }
}
